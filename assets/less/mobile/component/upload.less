@mobile-uploadimage-form-height: 6rem;
@mobile-uploadimage-form-border-radius: .25rem;
@mobile-uploadimage-size: 85px;
@mobile-uploadimage-close-size: 18px;
@mobile-uploadimage-btn-icon-size: 3rem;

[ns-system="mobile"] {
    .form-group {
        &[ns-type="uploadImage"] {
            &:after {
                display: none;
            }
        }
    }

    // 图片上传组件
    .uploadImage {

        &.form-item {
            padding-right: 0 !important;
        }

        // 上传控制器
        .uploadimage-box {
            .flex-block();
            flex: 0 0 100%;
            height: @mobile-uploadimage-form-height;
            margin: 1rem auto;
            border-radius: @mobile-uploadimage-form-border-radius;
            position: relative;
            background: #f5f5f5;

            .form-control {
                opacity: 0;
            }

            // 上传图标
            &:after {
                position: absolute;
                content: '\e935';
                font-family: @icon-font-icomoon;
                .flex-block(center, center);
                text-align: center;
                font-size: 2rem;
                top: 50%;
                left: 50%;
                margin: -1rem 0 0 -1rem;

            }

            //手机端上传图片和拍照并存
            &.camera {
                .input-group-btn {
                    position: absolute;
                    right: 50%;
                    top: 50%;
                    margin: -1rem -3.5rem 0 0;
                    display: flex;
                    flex: 1;
                    justify-content: center;
                    -ms-align-items: center;
                    align-items: center;
                    text-align: center;
                    font-size: 2rem;
                    width: auto;

                    .btn {
                        padding: 0;

                        i {
                            font-size: 2rem;
                            color: #424242;
                        }
                    }
                }

                &:after {
                    margin: -1rem 0 0 -3.5rem;
                }
            }
        }

        // 已上传图片列表
        .uploadimage-group {
            .flex-block(flex-start, flex-start);
            flex: 0 0 100%;
            flex-wrap: wrap;

            .uploadimage-item {
                .flex-block(center, center);
                position: relative;
                flex: 0 0 25%;
                height: @mobile-uploadimage-size;

                .uploadimage-image {
                    display: block;
                    width: 100%;
                    height: 100%;

                }

                img {
                    display: block;
                    .square(@mobile-uploadimage-size);
                    margin: 0 auto;
                }

                .btn {
                    flex: none;
                    position: absolute;
                    top: 0;
                    right: 0;
                    padding: 0;
                    border-radius: 100rem;
                    background: @mobile-danger;

                    &.btn-icon {
                        .square(@mobile-uploadimage-close-size);
                    }

                    i {
                        color: #fff;
                        font-size: 12px;
                    }

                }
            }
        }
    }

    // 上传图片预览
    .uploadimage-view {
        .flex-block(center, center);
        flex-direction: column;
        position: fixed;
        z-index: 999;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        background: rgba(0, 0, 0, .75);

        img {
            display: block;
            width: 100%;
        }

        .form-btn {
            margin-top: 1rem;

            .btn {
                border-radius: 100rem;
                background: @mobile-danger;

                i {
                    color: #fff;
                }

                &.btn-icon {
                    .square(@mobile-uploadimage-btn-icon-size);
                }
            }
        }
    }
}