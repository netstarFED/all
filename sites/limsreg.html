<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
    <meta name="description" content="网星云服务" />
    <meta name="author" content="netstar" />
    <link rel="stylesheet" href="../static/style/welcomepage/css/bs-less/animate.min.css">
    <link rel="stylesheet" href="../static/style/welcomepage/css/guide-less/guide.css">
    <title>DEV.网星云.HOME</title>

    <script type="text/javascript">
        var language = 'cn';
        mxBasePath = '/assets/flow/'; //mx基础库 应当有resource css images等 '../src';
    </script>
    <!--# include file="/static/include/login-static-dev.html" -->
    <!--# include file="/static/include/preload-static-dev.html" -->
    <!--# include file="/static/include/mainpage-static-dev.html" -->
    <!--# include file="/static/include/lazy-static-dev.html" -->

</head>
<style>

</style>
<container>
        <!--<div class="pt-btn-dropdown pt-btn-dropdown-senior">
            <div class="pt-btn-group pt-btn-group-compact">
                <button class="pt-btn pt-btn-default"><span>高级查询</span></button>
                <button id="advance-query-nstemplate-layout-nscloud-oataskpersonallist-list-0-dropdown-btn" class="pt-btn pt-btn-default pt-btn-icon">
                    <i class="icon-arrow-down-o"></i>
                </button>
            </div>
            <div id="advance-query-nstemplate-layout-nscloud-oataskpersonallist-list-0-dropdown-panel" class="pt-btn-dropdown-panel">
                <div class="pt-btn-group"><button class="pt-btn pt-btn-default"><span>已完成查询</span></button>
                <button class="pt-btn pt-btn-default"><span>开始条件查询</span></button>
                <button class="pt-btn pt-btn-default"><span>九月份</span></button>
                <button class="pt-btn pt-btn-default"><span>test2</span></button>
            </div>
        </div>-->
    <script type="text/javascript">
        $(function () {
            var serverUrl = 'http://ui-pc:2000';
            var componentsJson = {
                package: 'nsVue.graps.order333',
                template: 'limsReg',
                title: '受理信息',
                readonly: false,
                //isSaveToTemplate
                //draftBox
                //getValueAjax:{},
                components: [
                    {
                        type: 'vo',
                        position: 'header-right',
                        parent: 'root',
                        idField: 'idForm21',
                        keyField: 'root',
                        isSetMore: false,
                        formStyle: "pt-form-normal",
                        field: [
                            {
                                id: 'entrustCode',
                                label: '委托编号',
                                type: 'text',
                                inputWidth: 100,
                            }, {
                                id: 'entrustDate',
                                label: '委托日期',
                                type: 'date',
                                inputWidth: 100,
                            }
                        ]
                    }, {
                        type: 'vo',
                        position: 'header-body',
                        parent: 'root',
                        defaultComponentWidth: '25%',
                        idField: 'idForm22',
                        keyField: 'root',
                        field: [
                            {
                                id: 'customer',
                                label: '客户',
                                type: 'business',
                                textField: 'itemCateName',
                                idField: 'itemName',
                                dialogTitle: '往来单位[供应商]选择框',
                                infoBtnName: '查看单位基本信息',
                                rules: 'required',
                                source: {
                                    url: serverUrl + '/sites/goodslist.html',
                                },
                                search: {
                                    url: serverUrl + '/assets/json/newcomponent/search.json',
                                    dataSrc: 'rows',
                                }
                            },
                            {
                                id: 'contacts',
                                label: '联系人',
                                type: 'select',
                                inputWidth: 200,
                                textField: 'name',
                                valueField: 'id',
                                value: '0',
                                ajaxConfig: {
                                    url: serverUrl + '/assets/json/newcomponent/radio.json',
                                    type: 'GET',
                                    dataSrc: 'rows'
                                }
                            },
                            {
                                id: 'salesman',
                                label: '销售员',
                                type: 'select',
                                inputWidth: 200,
                                textField: 'name',
                                valueField: 'id',
                                value: '0',
                                ajaxConfig: {
                                    url: serverUrl + '/assets/json/newcomponent/radio.json',
                                    type: 'GET',
                                    dataSrc: 'rows'
                                }
                            },
                            {
                                id: 'abstract',
                                label: '摘要',
                                type: 'text',
                                inputWidth: 100,
                                value: '',
                            },
                            {
                                id: 'warehouse',
                                label: '发货仓库',
                                type: 'select',
                                inputWidth: 200,
                                textField: 'name',
                                valueField: 'id',
                                value: '0',
                                ajaxConfig: {
                                    url: serverUrl + '/assets/json/newcomponent/radio.json',
                                    type: 'GET',
                                    dataSrc: 'rows'
                                }
                            },
                            {
                                id: 'remark',
                                label: '备注',
                                type: 'text',
                                inputWidth: 100,
                                value: '',
                            },
                            {
                                id: 'paymentStage',
                                label: '付款阶段',
                                type: 'text',
                                inputWidth: 100,
                                value: '',
                            },
                            {
                                id: 'discount',
                                label: '折扣',
                                type: 'text',
                                inputWidth: 100,
                                value: '',
                            },
                            {
                                id: 'invoiceType',
                                label: '发票类型',
                                type: 'select',
                                inputWidth: 200,
                                textField: 'name',
                                valueField: 'id',
                                value: '0',
                                ajaxConfig: {
                                    url: serverUrl + '/assets/json/newcomponent/radio.json',
                                    type: 'GET',
                                    dataSrc: 'rows'
                                }
                            }
                        ]
                    }, {
                        type: 'btns',
                        field: [
                            {
                                "functionConfig": {
                                    "ajaxData": {
                                        "processId": "1309861313630962674"
                                    },
                                    "data": {
                                        "processId": "1309861313630962674"
                                    },
                                    "ajaxDataVaildConfig": "required",
                                    "contentType": "application/json",
                                    "dataFormat": "object",
                                    "dataSrc": "data",
                                    "defaultMode": "custom",
                                    "functionClass": "modal",
                                    "suffix": "/sample/accept/sampleAccepts/save",
                                    "text": "保存",
                                    "type": "POST",
                                    "voName": "sampleSampleAcceptVO",
                                    "entityName": "_sample_accept_sampleAccepts",
                                    "chineseName": "保存受理 VO",
                                    "englishName": "save",
                                    "isCloseWindow": false,
                                    "isInlineBtn": false,
                                    "successMsg": "保存成功！",
                                    "successOperate": "edit",
                                    "isSendPageParams": true,
                                    "isIsSave": true,
                                    "isMobileInlineBtn": true,
                                    "isKeepSelected": false,
                                    "parameterFormatType": "add",
                                    "url": "https://qaapi.wangxingcloud.com//sample/accept/sampleAccepts/save",
                                    "isOperatorMain": true,
                                    "operatorObject": "root"
                                },
                                "btn": {
                                    "text": "保存",
                                    "isReturn": true,
                                    handler:function(data){
                                        console.log(data)
                                    }
                                }
                            },
                            {
                                "functionConfig": {
                                    "ajaxData": {
                                        "processId": "1309861313630962674"
                                    },
                                    "data": {
                                        "processId": "1309861313630962674"
                                    },
                                    "ajaxDataVaildConfig": "required",
                                    "contentType": "application/json",
                                    "dataFormat": "object",
                                    "dataSrc": "data",
                                    "defaultMode": "custom",
                                    "functionClass": "modal",
                                    "suffix": "/sample/accept/sampleAccepts/saveAndSubmit",
                                    "text": "保存并提交",
                                    "type": "POST",
                                    "voName": "sampleSampleAcceptVO",
                                    "entityName": "_sample_accept_sampleAccepts",
                                    "chineseName": "保存并且提交",
                                    "englishName": "saveAndSubmit",
                                    "isCloseWindow": false,
                                    "isInlineBtn": false,
                                    "successOperate": "delete",
                                    "isSendPageParams": true,
                                    "isIsSave": true,
                                    "isMobileInlineBtn": true,
                                    "isKeepSelected": false,
                                    "parameterFormatType": "add",
                                    "url": "https://qaapi.wangxingcloud.com//sample/accept/sampleAccepts/saveAndSubmit",
                                    "isOperatorMain": true,
                                    "operatorObject": "root"
                                },
                                "btn": {
                                    "text": "保存并提交",
                                    "isReturn": true,
                                    handler:function(data){
                                        console.log(data)
                                    }
                                }
                            },
                            {
                                "functionConfig": {
                                    "ajaxDataVaildConfig": "{}",
                                    "contentType": "application/x-www-form-urlencoded",
                                    "dataFormat": "id",
                                    "dataSrc": "rows",
                                    "defaultMode": "business",
                                    "functionClass": "modal",
                                    "suffix": "/templateMindPages/pageConfig/1313763001509086194",
                                    "text": "导入受理",
                                    "type": "GET",
                                    "voName": "sampleSampleAcceptVO",
                                    "entityName": "_sample_accept_sampleAccepts",
                                    "chineseName": "导入受理",
                                    "englishName": "importAccept",
                                    "requestSource": "none",
                                    "isInlineBtn": false,
                                    "isSendPageParams": true,
                                    "isIsSave": false,
                                    "isMobileInlineBtn": true,
                                    "getPanelDataAjax": {
                                        "suffix": "/sample/accept/sampleAccepts/clone",
                                        "dataSrc": "data",
                                        "type": "POST",
                                        "contentType": "application/x-www-form-urlencoded",
                                        "data": {
                                            "includeChildren": "1",
                                            "params": "1",
                                            "id": "{id}"
                                        }
                                    },
                                    "isKeepSelected": false,
                                    "dialogTitle": "导入受理",
                                    "targetField": "root",
                                    "selectMode": "single",
                                    "operatorMode": "add",
                                    "url": "https://qaapi.wangxingcloud.com//templateMindPages/pageConfig/1313763001509086194",
                                    "isOperatorMain": true,
                                    "operatorObject": "root"
                                },
                                "btn": {
                                    "text": "导入受理",
                                    "isReturn": true,
                                    handler:function(data){
                                        console.log(data)
                                    }
                                }
                            },
                            {
                                "functionConfig": {
                                    "ajaxDataVaildConfig": "{}",
                                    "contentType": "application/x-www-form-urlencoded",
                                    "dataSrc": "data",
                                    "defaultMode": "custom",
                                    "functionClass": "modal",
                                    "text": "打印",
                                    "type": "POST",
                                    "voName": "sampleSampleAcceptVO",
                                    "entityName": "_sample_accept_sampleAccepts",
                                    "chineseName": "打印样品标签",
                                    "englishName": "printSampleLabel",
                                    "isInlineBtn": false,
                                    "isSendPageParams": true,
                                    "isIsSave": false,
                                    "isMobileInlineBtn": true,
                                    "isKeepSelected": false,
                                    "parameterFormatType": "add",
                                    "isOperatorMain": true,
                                    "operatorObject": "root"
                                },
                                "btn": {
                                    "text": "打印",
                                    "isReturn": true,
                                    handler:function(data){
                                        console.log(data)
                                    }
                                }
                            },
                            {
                                "functionConfig": {
                                    "ajaxDataVaildConfig": "{}",
                                    "contentType": "application/x-www-form-urlencoded",
                                    "dataSrc": "data",
                                    "defaultMode": "custom",
                                    "functionClass": "modal",
                                    "text": "生成合同",
                                    "type": "POST",
                                    "voName": "sampleSampleAcceptVO",
                                    "entityName": "_sample_accept_sampleAccepts",
                                    "chineseName": "生成合同书",
                                    "englishName": "createAcceptBill",
                                    "isInlineBtn": false,
                                    "isSendPageParams": true,
                                    "isIsSave": false,
                                    "isMobileInlineBtn": true,
                                    "isKeepSelected": false,
                                    "parameterFormatType": "add",
                                    "isOperatorMain": true,
                                    "operatorObject": "root"
                                },
                                "btn": {
                                    "text": "生成合同",
                                    "isReturn": true,
                                    handler:function(data){
                                        console.log(data)
                                    }
                                }
                            },
                            {
                                "functionConfig": {
                                    "ajaxDataVaildConfig": "{}",
                                    "contentType": "application/x-www-form-urlencoded",
                                    "dataSrc": "data",
                                    "defaultMode": "newtab",
                                    "functionClass": "modal",
                                    "suffix": "/templateMindPages/pageConfig/1311226126462355442?editModel=0",
                                    "text": "划价",
                                    "title": "划价单",
                                    "type": "GET",
                                    "voName": "sampleSampleAcceptVO",
                                    "entityName": "_sample_accept_sampleAccepts",
                                    "chineseName": "划价",
                                    "englishName": "price",
                                    "dataLevel": "id",
                                    "requestSource": "thisVo",
                                    "isAlwaysNewTab": true,
                                    "isEditMode": true,
                                    "isInlineBtn": false,
                                    "formatValueData": "{\"id\":\"{vo.id}\"}",
                                    "isSendPageParams": true,
                                    "isIsSave": false,
                                    "isMobileInlineBtn": true,
                                    "isKeepSelected": false,
                                    "parameterFormatType": "add",
                                    "url": "https://qaapi.wangxingcloud.com//templateMindPages/pageConfig/1311226126462355442?editModel=0",
                                    "isOperatorMain": true,
                                    "operatorObject": "root"
                                },
                                "btn": {
                                    "text": "划价",
                                    "isReturn": true,
                                    handler:function(data){
                                        console.log(data)
                                    }
                                }
                            },
                            {
                                "functionConfig": {
                                    "ajaxDataVaildConfig": "{\"id\":\"required string\",\"includeChildren\":\"required number\",\"params\":\"required number\"}",
                                    "contentType": "application/x-www-form-urlencoded",
                                    "dataFormat": "object",
                                    "dataSrc": "rows",
                                    "defaultMode": "business",
                                    "functionClass": "modal",
                                    "suffix": "/templateMindPages/pageConfig/1311226131831063538",
                                    "text": "导入样品",
                                    "type": "GET",
                                    "voName": "sampleSampleAcceptVO",
                                    "entityName": "_sample_accept_sampleAccepts",
                                    "chineseName": "导入样品",
                                    "englishName": "cloneSample",
                                    "requestSource": "none",
                                    "getPanelDataAjax": {
                                        "suffix": "/sample/accept/sampleAccepts/cloneSample",
                                        "dataSrc": "data",
                                        "type": "POST",
                                        "contentType": "application/x-www-form-urlencoded",
                                        "data": {
                                            "includeChildren": "1",
                                            "params": "1",
                                            "id": "{id}"
                                        }
                                    },
                                    "dialogTitle": "导入样品",
                                    "targetField": "sampleList",
                                    "selectMode": "single",
                                    "operatorMode": "add",
                                    "url": "https://qaapi.wangxingcloud.com//templateMindPages/pageConfig/1311226131831063538",
                                    "isOperatorMain": true,
                                    "operatorObject": "root"
                                },
                                "btn": {
                                    "text": "导入样品",
                                    "isReturn": true,
                                    /*dropdownType:'memoryDropdown',
                                    subdata:[
                                        {
                                            btn:{
                                                text:'测试1',
                                                isReturn:true,
                                                handler:function(data){
                                                    console.log(data)
                                                }
                                            },
                                            functionConfig:{}
                                        }
                                    ],*/
                                    handler:function(data){
                                        console.log('3')
                                    }
                                }
                            },
                            {
                                "functionConfig": {
                                    "ajaxDataVaildConfig": "required",
                                    "contentType": "application/x-www-form-urlencoded",
                                    "dataFormat": "ids",
                                    "dataSrc": "rows",
                                    "defaultMode": "business",
                                    "functionClass": "modal",
                                    "suffix": "/templateMindPages/pageConfig/1311226131831063538",
                                    "text": "样品复检",
                                    "type": "GET",
                                    "voName": "sampleSampleAcceptVO",
                                    "entityName": "_sample_accept_sampleAccepts",
                                    "chineseName": "生成复检样品",
                                    "englishName": "genRetestSample",
                                    "requestSource": "checkbox",
                                    "getPanelDataAjax": {
                                        "suffix": "/sample/accept/sampleAccepts/genRetestSample",
                                        "dataSrc": "data",
                                        "type": "POST",
                                        "contentType": "application/x-www-form-urlencoded",
                                        "data": {
                                            "ids": "{id}"
                                        }
                                    },
                                    "dialogTitle": "样品复检",
                                    "targetField": "sampleList",
                                    "selectMode": "checkbox",
                                    "operatorMode": "add",
                                    "url": "https://qaapi.wangxingcloud.com//templateMindPages/pageConfig/1311226131831063538",
                                    "isOperatorMain": true,
                                    "operatorObject": "root"
                                },
                                "btn": {
                                    "text": "样品复检",
                                    "isReturn": true,
                                    handler:function(data){
                                        console.log(data)
                                    }
                                }
                            },
                            {
                                "functionConfig": {
                                    "text": "流程监控",
                                    "defaultMode": "workflowViewer",
                                    "englishName": "nsWorkflowViewer",
                                    "isOperatorMain": true,
                                    "operatorObject": "root"
                                },
                                "btn": {
                                    "text": "流程监控",
                                    "isReturn": true,
                                    handler:function(data){
                                        console.log(data)
                                    }
                                }
                            }
                        ]
                    }, {
                        type: 'blockList',
                        title: '样品列表',
                        idField: 'id',
                        parent: 'root',
                        keyField: 'orderList',
                        plusClass: 'pt-block-list-vertical',
                        listExpression: "<div class='pt-block-content-item'>"
                            + "<span class='label'>样品委托编号</span>"
                            + "<span class='text'>{{contacts}}</span>"
                            + "</div>"
                            + "<div class='pt-block-content-item'>"
                            + "<span class='label'>样品名称</span>"
                            + "<span class='text'>{{abstract}}</span>"
                            + "</div>"
                            + "<div class='pt-block-content-item'>"
                            + "<span class='label'>型号</span>"
                            + "<span class='text'>{{abstract}}</span>"
                            + "</div>",
                        /* ajax:{
                             src:getRootPath() + '/public/static/assets/json/project-list.json',
                             type:'get',
                             data:{},
                             dataSrc:'row'
                         },*/
                        field: [
                            {
                                field: 'contacts',
                                title: '样品委托编号',
                                width: 80,
                                searchable: true,
                            }, {
                                field: 'abstract',
                                title: '样品名称',
                                width: 60,
                                searchable: true,
                            }, {
                                field: 'remark',
                                title: '所属分类',
                                width: 60,
                                searchable: true,
                            }, {
                                field: 'discount',
                                title: '拼音码',
                                width: 60,
                                searchable: true,
                            },
                        ]
                    }, {
                        type: 'tab',
                        field: 'checkItemList,checkItemListChild'
                    }, {
                        type: 'vo',
                        title: '样品信息',
                        idField: 'id',
                        keyField: 'checkItemList',
                        field: [
                            {
                                id: 'customer',
                                label: '客户',
                                type: 'business',
                                textField: 'itemCateName',
                                idField: 'itemName',
                                dialogTitle: '往来单位[供应商]选择框',
                                infoBtnName: '查看单位基本信息',
                                rules: 'required',
                                source: {
                                    url: serverUrl + '/sites/goodslist.html',
                                },
                                search: {
                                    url: serverUrl + '/assets/json/newcomponent/search.json',
                                    dataSrc: 'rows',
                                }
                            },
                            {
                                id: 'contacts',
                                label: '联系人',
                                type: 'select',
                                inputWidth: 200,
                                textField: 'name',
                                valueField: 'id',
                                value: '0',
                                ajaxConfig: {
                                    url: serverUrl + '/assets/json/newcomponent/radio.json',
                                    type: 'GET',
                                    dataSrc: 'rows'
                                }
                            },
                            {
                                id: 'salesman',
                                label: '销售员',
                                type: 'select',
                                inputWidth: 200,
                                textField: 'name',
                                valueField: 'id',
                                value: '0',
                                ajaxConfig: {
                                    url: serverUrl + '/assets/json/newcomponent/radio.json',
                                    type: 'GET',
                                    dataSrc: 'rows'
                                }
                            },
                            {
                                id: 'abstract',
                                label: '摘要',
                                type: 'text',
                                inputWidth: 100,
                                value: '',
                            },
                            {
                                id: 'warehouse',
                                label: '发货仓库',
                                type: 'select',
                                inputWidth: 200,
                                textField: 'name',
                                valueField: 'id',
                                value: '0',
                                ajaxConfig: {
                                    url: serverUrl + '/assets/json/newcomponent/radio.json',
                                    type: 'GET',
                                    dataSrc: 'rows'
                                }
                            },
                            {
                                id: 'remark',
                                label: '备注',
                                type: 'text',
                                inputWidth: 100,
                                value: '',
                            },
                            {
                                id: 'paymentStage',
                                label: '付款阶段',
                                type: 'text',
                                inputWidth: 100,
                                value: '',
                            },
                            {
                                id: 'discount',
                                label: '折扣',
                                type: 'text',
                                inputWidth: 100,
                                value: '',
                            },
                            {
                                id: 'invoiceType',
                                label: '发票类型',
                                type: 'select',
                                inputWidth: 200,
                                textField: 'name',
                                valueField: 'id',
                                value: '0',
                                ajaxConfig: {
                                    url: serverUrl + '/assets/json/newcomponent/radio.json',
                                    type: 'GET',
                                    dataSrc: 'rows'
                                }
                            }
                        ]
                    }, {
                        type: 'list',
                        title: '检测项目',
                        idField: 'id',
                        parent: 'root',
                        keyField: 'checkItemListChild',
                        /* ajax:{
                             src:getRootPath() + '/public/static/assets/json/project-list.json',
                             type:'get',
                             data:{},
                             dataSrc:'row'
                         },*/
                        field: [
                            {
                                field: 'itemCode',
                                title: '检测编号',
                                width: 80,
                                searchable: true,
                                editable: true,
                                viewConfig: {
                                    type: 'viewerList',
                                    ajax: {
                                        url: serverUrl + '/assets/json/table/viewerlist.json',
                                    },
                                    field: [
                                        {
                                            field: 'name',
                                            title: '姓名',
                                        }, {
                                            field: 'age',
                                            title: '年龄',
                                        }, {
                                            field: 'hobby',
                                            title: '爱好',
                                        }
                                    ],
                                },
                            }, {
                                field: 'itemCateName',
                                title: '检测项目',
                                width: 60,
                                searchable: true,
                                editable: true,
                            }, {
                                field: 'itemCateId1',
                                title: '检测数量',
                                width: 60,
                                searchable: true,
                                editable: true,
                            }, {
                                field: 'py',
                                title: '单位',
                                width: 60,
                                searchable: true,
                            },
                        ]
                    }
                ],
            };
            NetstarTemplate.init(componentsJson); 
        })
    </script>
</container>

</html>

