<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
    <meta name="description" content="打包" />
    <meta name="author" content="netstar" />
    <!--# include file="/sites/include/static_mobile.html" -->
    <title>分箱打包</title>
    <script src=""></script>
</head>

<body class="weixin-type">
    <container>
        <div id="inlinesrceen-radio"></div>
        <div id="mobile-blocklist"></div>
        <script>
            var innerHTML =
                `<header class="header">
                            <div class="btn-group">
                                <a href="##" class="btn btn-icon">
                                    <i class="icon icon-arrow-left-o"></i>
                                </a>
                            </div>
                            <div class="title">分箱打包</div>
                            <div class="btn-group">
                                <button class="btn btn-icon" onclick="openCamera()">
                                    <i class="icon icon-qrcode" style="font-size:16px;"></i>
                                </button>
                            </div>
                        </header>`;

            $("container").prepend(innerHTML);
            if ($("header").length != 0 && $(".mobile-input-search").length == 0) {
                $("container").addClass("padding-top-header");
            };
            if ($("header").length != 0 && $(".mobile-input-search").length != 0) {
                $("container").addClass("padding-top-header-search");
            };
            var inlineSrceen = {
                id: "inlinesrceen-radio",
                size: "standard compactmode",
                format: "standard",
                fillbg: true,
                plusClass: 'commonwidth',
                formSource: 'inlineScreen',
                form: [{
                    id: 'date',
                    label: '装箱日期',
                    type: 'date',
                    column: 6,
                    changeHandler: function (value, config) {
                        console.log(value);
                        console.log(config);
                    },

                    value: Date.parse(new Date()),
                }]
            };
            formPlane.formInit(inlineSrceen);

            var mobileBlocklist = {
                id: 'mobile-blocklist',
                type: 'list',
                data: {
                    isSearch: true,
                    isPage: true,
                    idField: 'id',
                    src: 'https://qaapi.wangxingcloud.com//packingController/v2/getByPackingBoxId',
                    data: {
                        id: "1328682828837162994"
                    },
                    dataSrc: 'data.packingDetailVOList',
                    type: 'POST',
                    contentType: 'application/x-www-form-urlencoded'
                },
                columns: [{

                    field: [{
                            field: "goodsShopName",
                            title: "商品名称",
                            mindjetType: "text",
                            editConfig: {
                                type: "text"
                            }
                        },
                        {
                            field: "goodsShopCode",
                            title: "商品编码",
                            mindjetType: "text",
                            editConfig: {
                                type: "text"
                            }
                        },
                        {
                            field: "locationsType",
                            title: "正品/残次",
                            editConfig: {
                                type: "select",
                                textField: "value",
                                valueField: "id",
                            },
                            formatHandler: {
                                type: "stringReplace",
                                data: {
                                    formatDate: {
                                        0: "正品",
                                        5: "残次",
                                    }

                                }
                            },
                            columnType: "stringReplace"
                        },
                        {
                            field: "dictGoodsPlatUnitName",
                            title: "单位",
                            dictArguments: "unit",
                            editConfig: {
                                type: "select",
                                textField: "value",
                                valueField: "id",
                                dictArguments: "unit"
                            },
                            formatHandler: {
                                type: "dictionary",
                                data: {
                                    1: "个",
                                    2: "桶",
                                    3: "组",
                                    4: "只",
                                }
                            },
                            columnType: "dictionary"
                        },
                        {
                            field: "packingQuantity",
                            title: "装箱数",
                            editConfig: {
                                type: "number",
                            },
                            formatHandler: {
                                type: "number",
                                data: {
                                    format: {
                                        places: "0",
                                        thousand: ","
                                    }
                                }
                            },
                            columnType: "number"
                        },
                        {
                            field: "lastQuantity",
                            title: "未装箱数量",
                        },
                        {
                            id: 'adderSubtracter',
                            label: '数字加减',
                            type: 'adderSubtracter',
                            column: 6,
                            changeHandler: function (value, config) {
                                console.log(value);
                                console.log(config);
                            },
                            value: 7,
                        },
                        {
                            field: "backQuantity",
                            title: "返库数量",
                            editConfig: {
                                type: "number",
                            },
                            formatHandler: {
                                type: "number",
                                data: {
                                    format: {
                                        places: "0",
                                        thousand: ","
                                    }
                                }
                            },
                            columnType: "number"
                        },
                        {
                            field: "dictBrandBrandName",
                            title: "品牌",
                            mindjetType: "text",
                            editConfig: {
                                type: "text",

                            }
                        },
                        {
                            field: "goodsPlatformModel",
                            title: "型号",
                            mindjetType: "text",
                            editConfig: {
                                type: "text",

                            }
                        },
                        {
                            field: "goodsPlatformOem",
                            title: "OEM码",
                            mindjetType: "text",
                            editConfig: {
                                type: "text",

                            }
                        },
                        {
                            field: "goodsPlatformCode",
                            title: "厂家编码",
                            mindjetType: "text",
                            editConfig: {
                                type: "text",

                            }
                        },
                    ],
                }, ],
                ui: {
                    listExpression: "<div class=\"block-list-item \"><div class=\"block-list-item-text \"><span class=\"title\">商品名称：{{goodsShopName}}</span>\n<span class=\"title\">商品编码：{{goodsShopCode}}</span></div><div class=\"block-list-item-text \"><span class=\"title\">货位类型：{{locationsType}}</span>\n<span class=\"title\">单位：{{dictGoodsPlatUnitName}}</span>\n<span class=\"title\">品质分类</span></div><div class=\"block-list-item-text \">\n<span class=\"title\">未装箱数量：{{lastQuantity}}</span>\n<span class=\"title\">本次装箱数量：<div class=\"adderSubtracter-component\"></div></span></div><div class=\"block-list-item-text \"><span class=\"title\">品牌：{{dictBrandBrandName}}</span>\n<span class=\"title\">型号：{{goodsPlatformModel}}</span></div><div class=\"block-list-item-text \"><span class=\"title\">OEM码：{{goodsPlatformOem}}</span>\n<span class=\"title\">厂家编码：{{goodsPlatformCode}}</span></div></div>",
                    
                }

            }
            NetstarBlockListM.init(mobileBlocklist);
            // NetstarBlockListM.refreshDataById("mobile-blocklist-contenttable", scannerArr);
        </script>
    </container>
</body>

</html>