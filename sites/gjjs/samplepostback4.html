<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
    <meta name="description" content="扫码详情表" />
    <meta name="author" content="netstar" />
    <!--# include file="/sites/include/static_mobile.html" -->
    <title>留样自取</title>
</head>

<body class="weixin-type">
    <container>
        <script type="text/javascript">
            $(function () {
                var samplePostBack4 = {
                    "package": "nscloud.samplepostback4",
                    "template": "processDocBaseMobile",
                    "readonly": false,
                    "isShowTitle": true,
                    "isFormHidden": false,
                    "versionNumber": "1",
                    "components": [{
                            "type": "vo",
                            "field": [
                                {
                                    "id": "dealwithBy",
                                    "englishName": "dealwithBy",
                                    "chineseName": "处理人",
                                    "variableType": "string",
                                    "mindjetType": "select",
                                    "isSet": "是",
                                    "displayType": "all",
                                    "gid": "ebf27ed8-feb5-e885-802d-d665fe565458",
                                    "voName": "samplemanageSampleDealWithRecordVO",
                                    "className": "java.lang.Long",
                                    "type": "select",
                                    "label": "处理人",
                                    "rules": "",
                                    "textField": "userName",
                                    "valueField": "id",
                                    "isObjectValue": false,
                                    "method": "POST",
                                    "dataSrc": "rows",
                                    "data": "",
                                    "contentType": "",
                                    "suffix": "/system/users/getList",
                                    "url": getRootPath() + "/system/users/getList",
                                    "mindjetIndexState": 0,
                                    "mindjetFieldPosition": "field"
                                },
                                {
                                    "englishName": "contactPhone",
                                    "className": "java.lang.String",
                                    "gid": "ccb22b98-cf70-c5de-a5bf-15af3cc89175",
                                    "variableType": "string",
                                    "chineseName": "联系方式",
                                    "isHaveChineseName": true,
                                    "id": "contactPhone",
                                    "label": "联系方式",
                                    "type": "text",
                                    "field": "contactPhone",
                                    "title": "联系方式",
                                    "mindjetIndexState": 1,
                                    "mindjetFieldPosition": "field"
                                },
                                {
                                    "id": "quantity",
                                    "englishName": "quantity",
                                    "chineseName": "数量",
                                    "variableType": "number",
                                    "mindjetType": "text",
                                    "isSet": "是",
                                    "displayType": "all",
                                    "gid": "9ed03a05-63e7-41dd-75a7-eaae15af6925",
                                    "voName": "samplemanageSampleDealWithRecordVO",
                                    "className": "java.math.BigDecimal",
                                    "type": "text",
                                    "label": "数量",
                                    "rules": "",
                                    "moreRules": "",
                                    "disabled": false,
                                    "hidden": false,
                                    "isDistinct": false,
                                    "mindjetIndexState": 2,
                                    "mindjetFieldPosition": "field"
                                },
                                {
                                    "id": "whenDealwith",
                                    "englishName": "whenDealwith",
                                    "chineseName": "处理时间",
                                    "variableType": "date",
                                    "mindjetType": "date",
                                    "isSet": "是",
                                    "displayType": "all",
                                    "gid": "adc279b3-5edd-cb0c-397c-c024b1e302aa",
                                    "voName": "samplemanageSampleDealWithRecordVO",
                                    "className": "java.util.Date",
                                    "type": "date",
                                    "label": "处理时间",
                                    "rules": "",
                                    "isDefaultDate": true,
                                    "format": "yyyy-MM-dd",
                                    "ranges": true,
                                    "disabled": false,
                                    "hidden": false,
                                    "isDistinct": false,
                                    "mindjetIndexState": 3,
                                    "mindjetFieldPosition": "field"
                                }
                            ],
                            "voId": "1314029206803323890",
                            "idField": "id",
                            "keyField": "root",
                            "parent": "root",
                            "gid": "49d6fd81-1a0d-cbb1-92fa-291755436f76",
                            "objectState": 2,
                            "hide": [
                                null
                            ],
                            "stateClass": "more",
                            "fieldById": {
                                "dealwithBy": {
                                    "id": "dealwithBy",
                                    "englishName": "dealwithBy",
                                    "chineseName": "处理人",
                                    "variableType": "string",
                                    "mindjetType": "select",
                                    "isSet": "是",
                                    "displayType": "all",
                                    "gid": "ebf27ed8-feb5-e885-802d-d665fe565458",
                                    "voName": "samplemanageSampleDealWithRecordVO",
                                    "className": "java.lang.Long",
                                    "type": "select",
                                    "label": "处理人",
                                    "rules": "",
                                    "textField": "userName",
                                    "valueField": "id",
                                    "isObjectValue": false,
                                    "method": "POST",
                                    "dataSrc": "rows",
                                    "data": "",
                                    "contentType": "",
                                    "suffix": "/system/users/getList",
                                    "url": getRootPath() + "/system/users/getList",
                                    "mindjetIndexState": 0,
                                    "mindjetFieldPosition": "field"
                                },
                                "contactPhone": {
                                    "englishName": "contactPhone",
                                    "className": "java.lang.String",
                                    "gid": "ccb22b98-cf70-c5de-a5bf-15af3cc89175",
                                    "variableType": "string",
                                    "chineseName": "联系方式",
                                    "isHaveChineseName": true,
                                    "id": "contactPhone",
                                    "label": "联系方式",
                                    "type": "text",
                                    "field": "contactPhone",
                                    "title": "联系方式",
                                    "mindjetIndexState": 1,
                                    "mindjetFieldPosition": "field"
                                },
                                "quantity": {
                                    "id": "quantity",
                                    "englishName": "quantity",
                                    "chineseName": "数量",
                                    "variableType": "number",
                                    "mindjetType": "text",
                                    "isSet": "是",
                                    "displayType": "all",
                                    "gid": "9ed03a05-63e7-41dd-75a7-eaae15af6925",
                                    "voName": "samplemanageSampleDealWithRecordVO",
                                    "className": "java.math.BigDecimal",
                                    "type": "text",
                                    "label": "数量",
                                    "rules": "",
                                    "moreRules": "",
                                    "disabled": false,
                                    "hidden": false,
                                    "isDistinct": false,
                                    "mindjetIndexState": 2,
                                    "mindjetFieldPosition": "field"
                                },
                                "whenDealwith": {
                                    "id": "whenDealwith",
                                    "englishName": "whenDealwith",
                                    "chineseName": "处理时间",
                                    "variableType": "date",
                                    "mindjetType": "date",
                                    "isSet": "是",
                                    "displayType": "all",
                                    "gid": "adc279b3-5edd-cb0c-397c-c024b1e302aa",
                                    "voName": "samplemanageSampleDealWithRecordVO",
                                    "className": "java.util.Date",
                                    "type": "date",
                                    "label": "处理时间",
                                    "rules": "",
                                    "isDefaultDate": true,
                                    "format": "yyyy-MM-dd",
                                    "ranges": true,
                                    "disabled": false,
                                    "hidden": false,
                                    "isDistinct": false,
                                    "mindjetIndexState": 3,
                                    "mindjetFieldPosition": "field"
                                }
                            }
                        },
                        {
                            "type": "btns",
                            "field": [{
                                "functionConfig": {
                                    "ajaxData": {
                                        "objectState": "1"
                                    },
                                    "data": {
                                        "objectState": "1"
                                    },
                                    "contentType": "application/json",
                                    "dataFormat": "object",
                                    "dataSrc": "data",
                                    "defaultMode": "custom",
                                    "functionClass": "modal",
                                    "functionField": "nsProject.getFieldsByState(sampleDetail.samplemanageSampleDealWithRecordVO,\"selfReturn\",{isColumn:false,isDialog:true,isValidSave:true})",
                                    "id": "1312717906043222002",
                                    "suffix": "/sampleDetail/selfGetBack",
                                    "text": "自取退回",
                                    "title": "自取退回",
                                    "type": "POST",
                                    "voName": "samplemanageSampleDealWithRecordVO",
                                    "entityName": "sampleDetail",
                                    "chineseName": "自取退回",
                                    "englishName": "selfGetBack",
                                    "isCloseWindow": true,
                                    "requestSource": "selected",
                                    "isInlineBtn": false,
                                    "parameterFormat": "{\"objectState\":\"1\"}",
                                    "successOperate": "refresh",
                                    "matrixVariable": "?enumDealWithSave=WRITE_STATE_BACK",
                                    "isSendPageParams": true,
                                    "isIsSave": true,
                                    "isMobileInlineBtn": true,
                                    "isKeepSelected": true,
                                    "parameterFormatType": "add",
                                    "isSetValueToSourcePage": true,
                                    "url": getRootPath() + "/sampleDetail/selfGetBack"
                                },
                                "btn": {
                                    "text": "自取退回",
                                    "isReturn": true
                                }
                            }],
                            "gid": "addc486f-19ee-a69a-a008-ae856cdf110f",
                            "objectState": 2
                        }
                    ],
                    "draftBox": {
                        "isUse": false,
                        "isUseSave": true,
                        "closeOrClear": true
                    },
                    /*        "pageParam": {
                               "data": {
                                   "dealwithBy": "1310954084307594226",
                                   "backPostAddress": "123456",
                                   "postWay": 123456,
                                   "postCode": "123456",
                                   "contact": "123456`",
                                   "contactPhone": "123456",
                                   "retentionSampleDate": 123123,
                                   "retentionQuantity": 111111,
                                   "retentionSampleBy": "1310954084307594226",
                                   "whenRetention": 1573870556000,
                                   "retentionRemark": "112312312",
                                   "dealwithTypeId": "8",
                                   "whenDealwith": 1573889969000,
                                   "dealwithQuantity": 1,
                                   "sampleId": "1316915473144613874",
                                   "sampleDetailType": 1,
                                   "sampleDetailCode": "1572774023905",
                                   "sampleState": 9,
                                   "quantity": "2",
                                   "createdBy": "1310954084307594226",
                                   "whenCreated": 1572774024000,
                                   "modifiedBy": "1310954084307594226",
                                   "whenModified": 1576905567000,
                                   "hasRollback": false,
                                   "hasOvertime": false,
                                   "hasEmergency": false,
                                   "hasSuspend": false,
                                   "objectState": 0,
                                   "objectCheckState": 0,
                                   "id": "1316916696136549362",
                                   "netstarSelectedFlag": true
                               },
                               "url": getRootPath() + "/templateMindPages/pageConfig/1317899299828270066?templateparam=nscloud.reservedsample11576912242319"
                           } */
                }
                // NETSTAR添加url参数即pageParam
                var pageConfig = {
                    config: samplePostBack4
                };
                var params = pageConfig.config.pageParam.data ? pageConfig.config.pageParam.data : {};
                for (var componentI = 0; componentI < pageConfig.config.components.length; componentI++) {
                    var componentData = pageConfig.config.components[componentI];
                    if (componentData.type == 'vo') {
                        componentData.field.unshift({
                            id: 'sampleDetailId',
                            type: 'hidden',
                            value: params.id
                        });
                    }
                }
                samplePostBack4 = NetstarProject.init(samplePostBack4);

                NetstarTemplate.init(samplePostBack4);

            });
            var innerHTML = 
                `<header class="header">
                    <div class="btn-group">
                        <a href="##" class="btn btn-icon">
                            <i class="icon icon-arrow-left-o"></i>
                        </a>
                    </div>
                    <div class="title">留样自取</div>
                    <div class="btn-group">
                        
                    </div>
                </header>`; 
            
            $("container").prepend(innerHTML);
            if($("header").length != 0 && $(".mobile-input-search").length == 0){
                $("container").addClass("padding-top-header");
            }
            if($("header").length != 0 && $(".mobile-input-search").length != 0){
                $("container").addClass("padding-top-header-search");
            }
        </script>
    </container>
</body>

</html>