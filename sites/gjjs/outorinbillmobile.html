<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
    <meta name="description" content="扫码详情表" />
    <meta name="author" content="netstar" />
    <!--# include file="/sites/include/static_mobile.html" -->
    <title>样品出库</title>
</head>

<body class="weixin-type">
    <container>
        <script type="text/javascript">
            $(function () {
                var outorinbillMobile = {
                    "package": "nscloud.outorinbillmobile",
                    "template": "processDocBaseMobile",
                    "readonly": false,
                    "isShowTitle": true,
                    "isFormHidden": false,
                    "versionNumber": "1",
                    "components": [{
                            "type": "vo",
                            "field": [{
                                    "id": "deptName",
                                    "englishName": "deptName",
                                    "chineseName": "部门名称",
                                    "variableType": "string",
                                    "mindjetType": "select",
                                    "isSet": "是",
                                    "displayType": "all",
                                    "gid": "c3f36ecb-1bfa-4a16-60b2-15138ce62cfb",
                                    "voName": "inventory2OutOrInVO",
                                    "className": "java.lang.String",
                                    "type": "select",
                                    "label": "领用科室",
                                    "rules": "required",
                                    "valueField": "id",
                                    "textField":"deptName",
                                    // "relationField": "operatorId",
                                    "isObjectValue": false,
                                    "method": "POST",
                                    "dataSrc": "rows",
                                    "data": {},
                                    "contentType": "",
                                    "disabled": false,
                                    "hidden": false,
                                    "suffix": "/system/users/getList",
                                    "url": getRootPath() + "/system/users/getList",
                                },
                                {
                                    "id": "operatorId",
                                    "englishName": "operatorId",
                                    "chineseName": "经办人id",
                                    "variableType": "string",
                                    "mindjetType": "select",
                                    "isSet": "是",
                                    "displayType": "all",
                                    "gid": "c2eca1fa-e63e-f11b-af9d-b67c7161c06a",
                                    "voName": "inventory2OutOrInVO",
                                    "className": "java.lang.Long",
                                    "type": "select",
                                    "label": "领用人",
                                    "rules": "",
                                    "textField": "userName",
                                    "valueField": "id",
                                    "isObjectValue": false,
                                    "method": "POST",
                                    "dataSrc": "rows",
                                    "data": {},
                                    "contentType": "",
                                    "disabled": false,
                                    "hidden": false,
                                    "isDistinct": false,
                                    "suffix": "/system/users/getList",
                                    "url": getRootPath() + "/system/users/getList",
                                    "mindjetIndexState": 1,
                                    "mindjetFieldPosition": "field"
                                },
                                {
                                    "id": "operator",
                                    "englishName": "operator",
                                    "chineseName": "经办人",
                                    "variableType": "string",
                                    "mindjetType": "text",
                                    "isSet": "是",
                                    "displayType": "all",
                                    "gid": "07566ae3-5846-5e17-1597-c0fbe34a6c6d",
                                    "voName": "inventory2OutOrInVO",
                                    "className": "java.lang.String",
                                    "type": "text",
                                    "label": "办理人",
                                    "rules": "",
                                    "moreRules": "",
                                    "disabled": false,
                                    "hidden": false,
                                    "isDistinct": false,
                                    "mindjetIndexState": 2,
                                    "mindjetFieldPosition": "field"
                                },
                                {
                                    "id": "warehouseId",
                                    "englishName": "warehouseId",
                                    "chineseName": "库房id",
                                    "variableType": "string",
                                    "mindjetType": "select",
                                    "isSet": "是",
                                    "displayType": "all",
                                    "gid": "6f707b2e-c097-edf0-e02c-a51cd064650e",
                                    "voName": "inventory2OutOrInVO",
                                    "className": "java.lang.Long",
                                    "type": "select",
                                    "label": "仓库",
                                    "rules": "required",
                                    "textField": "name",
                                    "valueField": "id",
                                    "isObjectValue": false,
                                    "method": "POST",
                                    "dataSrc": "rows",
                                    "data": "",
                                    "disabled": false,
                                    "hidden": false,
                                    "isDistinct": false,
                                    "suffix": "/warehouse/v2/getList",
                                    "url": getRootPath() + "/warehouse/v2/getList",
                                    "mindjetIndexState": 3,
                                    "mindjetFieldPosition": "field"
                                },
                                {
                                    "englishName": "remark",
                                    "className": "java.lang.String",
                                    "gid": "2c5e1cb4-63d5-1b40-7649-4a02293f63ab",
                                    "variableType": "string",
                                    "chineseName": "备注",
                                    "isHaveChineseName": true,
                                    "id": "remark",
                                    "label": "备注",
                                    "type": "text",
                                    "field": "remark",
                                    "title": "备注",
                                    "mindjetIndexState": 4,
                                    "mindjetFieldPosition": "field"
                                },
                                {
                                    "englishName": "id",
                                    "className": "java.lang.Long",
                                    "gid": "4ed240bc-0071-05cd-6cb9-d486dd9e1033",
                                    "variableType": "string",
                                    "chineseName": "id",
                                    "isHaveChineseName": false,
                                    "id": "id",
                                    "label": "id",
                                    "type": "text",
                                    "field": "id",
                                    "title": "id",
                                    "mindjetIndexState": 5,
                                    "mindjetFieldPosition": "field"
                                },
                                {
                                    "id": "type",
                                    "englishName": "type",
                                    "chineseName": "出库、入库",
                                    "variableType": "number",
                                    "mindjetType": "select",
                                    "isSet": "是",
                                    "displayType": "all",
                                    "gid": "c5c7908c-4e16-636f-2d2d-eb95629995f6",
                                    "voName": "inventory2OutOrInVO",
                                    "className": "java.lang.Integer",
                                    "type": "select",
                                    "label": "类型",
                                    "rules": "",
                                    "textField": "value",
                                    "valueField": "id",
                                    "isObjectValue": false,
                                    "subdata": [{
                                        "isDisabled": false,
                                        "selected": true,
                                        "value": "出库",
                                        "id": "2"
                                    }],
                                    "disabled": false,
                                    "hidden": true,
                                    "isDistinct": false,
                                    "mindjetIndexState": 6,
                                    "mindjetFieldPosition": "field"
                                },
                                {
                                    "id": "bllType",
                                    "englishName": "bllType",
                                    "chineseName": "采购入库；销售退货入库；调拨入库；急件入库；盘盈入库；其他入库；销售出库；采购退货出库；调拨出库；异常件返货出库；盘亏出库；其他出库",
                                    "variableType": "number",
                                    "mindjetType": "select",
                                    "isSet": "是",
                                    "displayType": "all",
                                    "gid": "7ea67876-66de-d996-a6af-1de3669edd15",
                                    "voName": "inventory2OutOrInVO",
                                    "className": "java.lang.Integer",
                                    "type": "select",
                                    "label": "业务类型",
                                    "rules": "",
                                    "textField": "value",
                                    "valueField": "id",
                                    "isObjectValue": false,
                                    "defaultSelectedIndex": 16,
                                    "subdata": [{
                                        "isDisabled": false,
                                        "selected": true,
                                        "value": "16",
                                        "id": "16"
                                    }],
                                    "disabled": false,
                                    "hidden": true,
                                    "isDistinct": false,
                                    "mindjetIndexState": 7,
                                    "mindjetFieldPosition": "field"
                                },
                                {
                                    "id": "bllId",
                                    "englishName": "bllId",
                                    "chineseName": "业务id",
                                    "variableType": "string",
                                    "mindjetType": "text",
                                    "isSet": "是",
                                    "displayType": "all",
                                    "gid": "fc7434a6-84eb-6ead-3770-3844f8e9123f",
                                    "voName": "inventory2OutOrInVO",
                                    "className": "java.lang.Long",
                                    "type": "text",
                                    "label": "业务id",
                                    "rules": "",
                                    "moreRules": "",
                                    "value": "01",
                                    "disabled": false,
                                    "hidden": true,
                                    "isDistinct": false,
                                    "mindjetIndexState": 8,
                                    "mindjetFieldPosition": "field"
                                }
                            ],
                            "ajax": {
                                "src": getRootPath() + "/outOrIn/v2/getById",
                                "dataSrc": "data",
                                "type": "POST",
                                "dataFormat": "object",
                                "isInlineBtn": false,
                                "contentType": "application/x-www-form-urlencoded",
                                "isSendPageParams": true,
                                "data": {}
                            },
                            "voId": "1302155161975657449",
                            "idField": "id",
                            "keyField": "root",
                            "parent": "root",
                            "gid": "17ba9db2-62c4-bb20-6dfe-269bb46b4b1f",
                            "objectState": 2,
                            "hide": [
                                "operator",
                                "id",
                                "warehouseId"
                            ],
                            "title": "出库信息",
                            "stateClass": "more",
                            "fieldById": {
                                "deptName": {
                                    "id": "deptName",
                                    "englishName": "deptName",
                                    "chineseName": "部门名称",
                                    "variableType": "string",
                                    "mindjetType": "select",
                                    "isSet": "是",
                                    "displayType": "all",
                                    "gid": "c3f36ecb-1bfa-4a16-60b2-15138ce62cfb",
                                    "voName": "inventory2OutOrInVO",
                                    "className": "java.lang.String",
                                    "type": "select",
                                    "label": "领用科室",
                                    "rules": "required",
                                    "textField": "deptName",
                                    "valueField": "id",
                                    // "relationField": "operatorId",
                                    "isObjectValue": false,
                                    "method": "POST",
                                    "dataSrc": "rows",
                                    "data": {},
                                    "contentType": "",
                                    "disabled": false,
                                    "hidden": false,
                                    "isDistinct": false,
                                    "suffix": "/system/users/getList",
                                    "url": getRootPath() + "/system/users/getList",
                                    "mindjetIndexState": 0,
                                    "mindjetFieldPosition": "field"
                                },
                                "operatorId": {
                                    "id": "operatorId",
                                    "englishName": "operatorId",
                                    "chineseName": "经办人id",
                                    "variableType": "string",
                                    "mindjetType": "select",
                                    "isSet": "是",
                                    "displayType": "all",
                                    "gid": "c2eca1fa-e63e-f11b-af9d-b67c7161c06a",
                                    "voName": "inventory2OutOrInVO",
                                    "className": "java.lang.Long",
                                    "type": "select",
                                    "label": "领用人",
                                    "rules": "",
                                    "textField": "userName",
                                    "valueField": "id",
                                    "isObjectValue": false,
                                    "method": "POST",
                                    "dataSrc": "rows",
                                    "data": {},
                                    "contentType": "",
                                    "disabled": false,
                                    "hidden": false,
                                    "isDistinct": false,
                                    "suffix": "/system/users/getList",
                                    "url": getRootPath() + "/system/users/getList",
                                    "mindjetIndexState": 1,
                                    "mindjetFieldPosition": "field"
                                },
                                "operator": {
                                    "id": "operator",
                                    "englishName": "operator",
                                    "chineseName": "经办人",
                                    "variableType": "string",
                                    "mindjetType": "text",
                                    "isSet": "是",
                                    "displayType": "all",
                                    "gid": "07566ae3-5846-5e17-1597-c0fbe34a6c6d",
                                    "voName": "inventory2OutOrInVO",
                                    "className": "java.lang.String",
                                    "type": "text",
                                    "label": "办理人",
                                    "rules": "",
                                    "moreRules": "",
                                    "disabled": false,
                                    "hidden": false,
                                    "isDistinct": false,
                                    "mindjetIndexState": 2,
                                    "mindjetFieldPosition": "field"
                                },
                                "warehouseId": {
                                    "id": "warehouseId",
                                    "englishName": "warehouseId",
                                    "chineseName": "库房id",
                                    "variableType": "string",
                                    "mindjetType": "select",
                                    "isSet": "是",
                                    "displayType": "all",
                                    "gid": "6f707b2e-c097-edf0-e02c-a51cd064650e",
                                    "voName": "inventory2OutOrInVO",
                                    "className": "java.lang.Long",
                                    "type": "select",
                                    "label": "仓库",
                                    "rules": "required",
                                    "textField": "name",
                                    "valueField": "id",
                                    "isObjectValue": false,
                                    "method": "POST",
                                    "dataSrc": "rows",
                                    "data": "",
                                    "disabled": false,
                                    "hidden": false,
                                    "isDistinct": false,
                                    "suffix": "/warehouse/v2/getList",
                                    "url": getRootPath() + "/warehouse/v2/getList",
                                    "mindjetIndexState": 3,
                                    "mindjetFieldPosition": "field"
                                },
                                "remark": {
                                    "englishName": "remark",
                                    "className": "java.lang.String",
                                    "gid": "2c5e1cb4-63d5-1b40-7649-4a02293f63ab",
                                    "variableType": "string",
                                    "chineseName": "备注",
                                    "isHaveChineseName": true,
                                    "id": "remark",
                                    "label": "备注",
                                    "type": "text",
                                    "field": "remark",
                                    "title": "备注",
                                    "mindjetIndexState": 4,
                                    "mindjetFieldPosition": "field"
                                },
                                "id": {
                                    "englishName": "id",
                                    "className": "java.lang.Long",
                                    "gid": "4ed240bc-0071-05cd-6cb9-d486dd9e1033",
                                    "variableType": "string",
                                    "chineseName": "id",
                                    "isHaveChineseName": false,
                                    "id": "id",
                                    "label": "id",
                                    "type": "text",
                                    "field": "id",
                                    "title": "id",
                                    "mindjetIndexState": 5,
                                    "mindjetFieldPosition": "field"
                                },
                                "type": {
                                    "id": "type",
                                    "englishName": "type",
                                    "chineseName": "出库、入库",
                                    "variableType": "number",
                                    "mindjetType": "select",
                                    "isSet": "是",
                                    "displayType": "all",
                                    "gid": "c5c7908c-4e16-636f-2d2d-eb95629995f6",
                                    "voName": "inventory2OutOrInVO",
                                    "className": "java.lang.Integer",
                                    "type": "select",
                                    "label": "类型",
                                    "rules": "",
                                    "textField": "value",
                                    "valueField": "id",
                                    "isObjectValue": false,
                                    "subdata": [{
                                        "isDisabled": false,
                                        "selected": true,
                                        "value": "出库",
                                        "id": "2"
                                    }],
                                    "disabled": false,
                                    "hidden": true,
                                    "isDistinct": false,
                                    "mindjetIndexState": 6,
                                    "mindjetFieldPosition": "field"
                                },
                                "bllType": {
                                    "id": "bllType",
                                    "englishName": "bllType",
                                    "chineseName": "采购入库；销售退货入库；调拨入库；急件入库；盘盈入库；其他入库；销售出库；采购退货出库；调拨出库；异常件返货出库；盘亏出库；其他出库",
                                    "variableType": "number",
                                    "mindjetType": "select",
                                    "isSet": "是",
                                    "displayType": "all",
                                    "gid": "7ea67876-66de-d996-a6af-1de3669edd15",
                                    "voName": "inventory2OutOrInVO",
                                    "className": "java.lang.Integer",
                                    "type": "select",
                                    "label": "业务类型",
                                    "rules": "",
                                    "textField": "value",
                                    "valueField": "id",
                                    "isObjectValue": false,
                                    "defaultSelectedIndex": 16,
                                    "subdata": [{
                                        "isDisabled": false,
                                        "selected": true,
                                        "value": "16",
                                        "id": "16"
                                    }],
                                    "disabled": false,
                                    "hidden": true,
                                    "isDistinct": false,
                                    "mindjetIndexState": 7,
                                    "mindjetFieldPosition": "field"
                                },
                                "bllId": {
                                    "id": "bllId",
                                    "englishName": "bllId",
                                    "chineseName": "业务id",
                                    "variableType": "string",
                                    "mindjetType": "text",
                                    "isSet": "是",
                                    "displayType": "all",
                                    "gid": "fc7434a6-84eb-6ead-3770-3844f8e9123f",
                                    "voName": "inventory2OutOrInVO",
                                    "className": "java.lang.Long",
                                    "type": "text",
                                    "label": "业务id",
                                    "rules": "",
                                    "moreRules": "",
                                    "value": "01",
                                    "disabled": false,
                                    "hidden": true,
                                    "isDistinct": false,
                                    "mindjetIndexState": 8,
                                    "mindjetFieldPosition": "field"
                                }
                            }
                        },
                        {
                            "type": "blockList",
                            "field": [{
                                    "englishName": "str1",
                                    "chineseName": "str1",
                                    "variableType": "string",
                                    "field": "str1",
                                    "title": "样品委托编号",
                                    "mindjetType": "business",
                                    "isSet": "是",
                                    "displayType": "all",
                                    "gid": "d1d6f8de-1dd4-d968-8fb4-f4410d8b6212",
                                    "voName": "inventory2OutOrInDetailVO",
                                    "editConfig": {
                                        "id": "str1",
                                        "englishName": "str1",
                                        "chineseName": "str1",
                                        "variableType": "string",
                                        "mindjetType": "business",
                                        "isSet": "是",
                                        "displayType": "all",
                                        "gid": "d1d6f8de-1dd4-d968-8fb4-f4410d8b6212",
                                        "voName": "inventory2OutOrInDetailVO",
                                        "className": "java.lang.String",
                                        "type": "business",
                                        "label": "样品委托编号",
                                        "dialogTitle": "选择样品",
                                        "selectMode": "checkbox",
                                        "idField": "id",
                                        "textField": "str1",
                                        "isOutputString": false,
                                        "isInputText": false,
                                        "isAsync": false,
                                        "disabled": false,
                                        "hidden": false,
                                        "isDistinct": false,
                                        "source": {
                                            "type": "GET",
                                            "suffix": "/templateMindPages/pageConfig/1318013717757093874",
                                            //"url": "https://qaapi.wangxingcloud.com//templateMindPages/pageConfig/1318013717757093874"
                                            "url" : NetstarHomePage.defaultServerUrl + '/sites/gjjs/outorinbillmobilelist.html'
                                        },
                                        "search": {
                                            "type": "POST",
                                            "dataSrc": "rows",
                                            "data": {
                                                "warehouseId": "{page.warehouseId}"
                                            },
                                            "suffix": "/inventoryBatchDetail/v2/getList",
                                            "url": getRootPath() + "/inventoryBatchDetail/v2/getList"
                                        },
                                        "getRowData": {
                                            "type": "GET",
                                            "dataSrc": "rows",
                                            "data": {
                                                "ids": "{selectedList.id}"
                                            },
                                            "contentType": "application/x-www-form-urlencoded",
                                            "suffix": "/outOrIn/v2/getOutOrInDetailByBatchDetailIds",
                                            "url": getRootPath() + "/outOrIn/v2/getOutOrInDetailByBatchDetailIds"
                                        }
                                    },
                                    "editable": true,
                                    "hidden": false,
                                    "orderable": true,
                                    "searchable": false,
                                    "tooltip": false,
                                    "isDefaultSubdataText": true,
                                    "mindjetIndexState": 0,
                                    "width": 200
                                },
                                {
                                    "englishName": "goodsPlatformBrandName",
                                    "className": "java.lang.String",
                                    "gid": "c4b651d6-4086-d305-15d4-3462e6d09c4f",
                                    "variableType": "string",
                                    "chineseName": "商品品牌名称",
                                    "isHaveChineseName": true,
                                    "id": "goodsPlatformBrandName",
                                    "label": "商品品牌名称",
                                    "type": "text",
                                    "field": "goodsPlatformBrandName",
                                    "title": "商品品牌名称",
                                    "editConfig": {
                                        "type": "text",
                                        "formSource": "table",
                                        "templateName": "PC",
                                        "variableType": "string"
                                    },
                                    "mindjetIndexState": 1,
                                    "width": 200
                                },
                                {
                                    "englishName": "goodsName",
                                    "chineseName": "商品名称",
                                    "variableType": "string",
                                    "field": "goodsName",
                                    "title": "商品名称",
                                    "mindjetType": "text",
                                    "isSet": "是",
                                    "displayType": "all",
                                    "gid": "de536c83-30a8-5e93-6d1b-59f1faa42460",
                                    "voName": "inventory2OutOrInDetailVO",
                                    "editConfig": {
                                        "id": "goodsName",
                                        "englishName": "goodsName",
                                        "chineseName": "商品名称",
                                        "variableType": "string",
                                        "mindjetType": "text",
                                        "isSet": "是",
                                        "displayType": "all",
                                        "gid": "de536c83-30a8-5e93-6d1b-59f1faa42460",
                                        "voName": "inventory2OutOrInDetailVO",
                                        "className": "java.lang.String",
                                        "type": "text",
                                        "label": "商品名称",
                                        "disabled": false,
                                        "hidden": false,
                                        "isDistinct": false
                                    },
                                    "editable": false,
                                    "hidden": false,
                                    "orderable": true,
                                    "searchable": false,
                                    "tooltip": false,
                                    "isDefaultSubdataText": true,
                                    "width": 250,
                                    "mindjetIndexState": 2
                                },
                                {
                                    "englishName": "batchNo",
                                    "chineseName": "批号",
                                    "variableType": "string",
                                    "field": "batchNo",
                                    "title": "批号",
                                    "mindjetType": "text",
                                    "isSet": "是",
                                    "displayType": "all",
                                    "gid": "55fc7d49-d1f2-1bd0-53e0-eb4fe15f5ef8",
                                    "voName": "inventory2OutOrInDetailVO",
                                    "editConfig": {
                                        "id": "batchNo",
                                        "englishName": "batchNo",
                                        "chineseName": "批号",
                                        "variableType": "string",
                                        "mindjetType": "text",
                                        "isSet": "是",
                                        "displayType": "all",
                                        "gid": "55fc7d49-d1f2-1bd0-53e0-eb4fe15f5ef8",
                                        "voName": "inventory2OutOrInDetailVO",
                                        "className": "java.lang.String",
                                        "type": "text",
                                        "label": "批号",
                                        "disabled": false,
                                        "hidden": false,
                                        "isDistinct": false
                                    },
                                    "editable": true,
                                    "hidden": false,
                                    "orderable": true,
                                    "searchable": false,
                                    "tooltip": false,
                                    "isDefaultSubdataText": true,
                                    "mindjetIndexState": 3,
                                    "width": 200
                                },
                                {
                                    "englishName": "quantity",
                                    "chineseName": "出入库数量",
                                    "variableType": "number",
                                    "field": "quantity",
                                    "title": "领用数量",
                                    "mindjetType": "adderSubtracter",
                                    "isSet": "是",
                                    "displayType": "all",
                                    "gid": "9c2da102-13c1-865a-ac9c-5c2f8525c5c1",
                                    "voName": "inventory2OutOrInDetailVO",
                                    "editConfig": {
                                        "id": "quantity",
                                        "englishName": "quantity",
                                        "chineseName": "出入库数量",
                                        "variableType": "number",
                                        "mindjetType": "adderSubtracter",
                                        "isSet": "是",
                                        "displayType": "all",
                                        "gid": "9c2da102-13c1-865a-ac9c-5c2f8525c5c1",
                                        "voName": "inventory2OutOrInDetailVO",
                                        "className": "java.math.BigDecimal",
                                        "type": "adderSubtracter",
                                        "label": "领用数量",
                                        "rules": "required",
                                        "disabled": false,
                                        "hidden": false,
                                        "isDistinct": false
                                    },
                                    "editable": true,
                                    "hidden": false,
                                    "orderable": true,
                                    "searchable": false,
                                    "tooltip": false,
                                    "isDefaultSubdataText": true,
                                    "width": 106,
                                    "formatHandler": {
                                        "type": "number",
                                        "data": {
                                            "format": {
                                                "places": "0",
                                                "thousand": ","
                                            }
                                        }
                                    },
                                    "columnType": "number",
                                    "mindjetIndexState": 4
                                },
                                {
                                    "englishName": "warehouseId",
                                    "chineseName": "库房id",
                                    "variableType": "string",
                                    "field": "warehouseId",
                                    "title": "仓库",
                                    "mindjetType": "select",
                                    "isSet": "是",
                                    "displayType": "all",
                                    "gid": "0013c7a7-5d6f-d1aa-c5e5-dd997ccc50f2",
                                    "voName": "inventory2OutOrInDetailVO",
                                    "editConfig": {
                                        "id": "warehouseId",
                                        "englishName": "warehouseId",
                                        "chineseName": "库房id",
                                        "variableType": "string",
                                        "mindjetType": "select",
                                        "isSet": "是",
                                        "displayType": "all",
                                        "gid": "0013c7a7-5d6f-d1aa-c5e5-dd997ccc50f2",
                                        "voName": "inventory2OutOrInDetailVO",
                                        "className": "java.lang.Long",
                                        "type": "select",
                                        "label": "仓库",
                                        "textField": "name",
                                        "valueField": "id",
                                        "isObjectValue": false,
                                        "method": "POST",
                                        "dataSrc": "rows",
                                        "disabled": false,
                                        "hidden": false,
                                        "isDistinct": false,
                                        "suffix": "/warehouse/v2/getList",
                                        "url": getRootPath() + "/warehouse/v2/getList"
                                    },
                                    "editable": false,
                                    "hidden": false,
                                    "orderable": true,
                                    "searchable": false,
                                    "tooltip": false,
                                    "isDefaultSubdataText": true,
                                    "width": 130,
                                    "mindjetIndexState": 5
                                },
                                {
                                    "englishName": "locationsCode",
                                    "className": "java.lang.String",
                                    "gid": "e296cf6b-b13c-c593-7d7e-0c7145b8dd9b",
                                    "variableType": "string",
                                    "chineseName": "货位编码",
                                    "isHaveChineseName": true,
                                    "id": "locationsCode",
                                    "label": "货位编码",
                                    "type": "text",
                                    "field": "locationsCode",
                                    "title": "货位编码",
                                    "editConfig": {
                                        "type": "text",
                                        "formSource": "table",
                                        "templateName": "PC",
                                        "variableType": "string"
                                    },
                                    "mindjetIndexState": 6,
                                    "width": 200
                                },
                                {
                                    "englishName": "id",
                                    "className": "java.lang.Long",
                                    "gid": "c369773c-8698-ff16-147b-17b1cc63c4e6",
                                    "variableType": "string",
                                    "chineseName": "id",
                                    "isHaveChineseName": false,
                                    "id": "id",
                                    "label": "id",
                                    "type": "text",
                                    "field": "id",
                                    "title": "id",
                                    "editConfig": {
                                        "type": "text",
                                        "formSource": "table",
                                        "templateName": "PC",
                                        "variableType": "string"
                                    },
                                    "mindjetIndexState": 7,
                                    "width": 200
                                }
                            ],
                            "params": {
                                "isHaveEditDeleteBtn": "true"
                            },
                            "voId": "1302155161975658473",
                            "idField": "id",
                            "keyField": "outOrInDetailVOList",
                            "listExpression": "<div class=\"block-list-item\">\n<div class=\"block-list-item-text text-left\"><span>样品委托编号:{{str1}}</span></div>\n<div class=\"block-list-item-text text-left\"><span>样品名称:{{goodsName}}</span></div>\n<div class=\"block-list-item-text text-left\"><span>子样品编号:{{batchNo}}</span></div>\n<div class=\"block-list-item-text text-left\"><span>货位:{{locationsCode}}</span></div>\n<div class=\"adderSubtracter-component\"></div></div>\n</div>",
                            "isUseSearchInput": true,
                            "isUseQRInput": false,
                            "gid": "eb6307e3-6ee1-fca6-64a3-957e0249bf8f",
                            "objectState": 2,
                            "hide": [
                                "str1", 
                                "goodsPlatformBrandName",
                                "warehouseId",
                                "id"
                            ],
                            "title": "出库样品选择",
                            "fieldById": {
                                "goodsPlatformBrandName": {
                                    "englishName": "goodsPlatformBrandName",
                                    "className": "java.lang.String",
                                    "gid": "c4b651d6-4086-d305-15d4-3462e6d09c4f",
                                    "variableType": "string",
                                    "chineseName": "商品品牌名称",
                                    "isHaveChineseName": true,
                                    "id": "goodsPlatformBrandName",
                                    "label": "商品品牌名称",
                                    "type": "text",
                                    "field": "goodsPlatformBrandName",
                                    "title": "商品品牌名称",
                                    "editConfig": {
                                        "type": "text",
                                        "formSource": "table",
                                        "templateName": "PC",
                                        "variableType": "string"
                                    },
                                    "mindjetIndexState": 1,
                                    "width": 200
                                },
                                "locationsCode": {
                                    "englishName": "locationsCode",
                                    "className": "java.lang.String",
                                    "gid": "e296cf6b-b13c-c593-7d7e-0c7145b8dd9b",
                                    "variableType": "string",
                                    "chineseName": "货位编码",
                                    "isHaveChineseName": true,
                                    "id": "locationsCode",
                                    "label": "货位编码",
                                    "type": "text",
                                    "field": "locationsCode",
                                    "title": "货位编码",
                                    "editConfig": {
                                        "type": "text",
                                        "formSource": "table",
                                        "templateName": "PC",
                                        "variableType": "string"
                                    },
                                    "mindjetIndexState": 6,
                                    "width": 200
                                },
                                "id": {
                                    "englishName": "id",
                                    "className": "java.lang.Long",
                                    "gid": "c369773c-8698-ff16-147b-17b1cc63c4e6",
                                    "variableType": "string",
                                    "chineseName": "id",
                                    "isHaveChineseName": false,
                                    "id": "id",
                                    "label": "id",
                                    "type": "text",
                                    "field": "id",
                                    "title": "id",
                                    "editConfig": {
                                        "type": "text",
                                        "formSource": "table",
                                        "templateName": "PC",
                                        "variableType": "string"
                                    },
                                    "mindjetIndexState": 7,
                                    "width": 200
                                }
                            }
                        },
                        // {
                        //     "type": "tab",
                        //     "field": "root,outOrInDetailVOList",
                        //     "gid": "94c5b290-b4cb-78c7-d40b-db1d3b897752",
                        //     "objectState": 2
                        // },
                        {
                            "type": "btns",
                            "field": [{
                                "functionConfig": {
                                    "ajaxDataVaildConfig": "required",
                                    "contentType": "application/json",
                                    "dataFormat": "object",
                                    "dataSrc": "data",
                                    "defaultMode": "custom",
                                    "functionClass": "modal",
                                    "id": "1318785695178818546",
                                    "suffix": "/sampleDetail/outInventory",
                                    "text": "保存",
                                    "title": "保存",
                                    "type": "POST",
                                    "voName": "samplemanageOutOrInEVO",
                                    "entityName": "sampleDetail",
                                    "chineseName": "出库2.0",
                                    "englishName": "outInventory",
                                    "isCloseWindow": true,
                                    "isInlineBtn": false,
                                    "successMsg": "保存成功！",
                                    "successOperate": "refresh",
                                    "isSendPageParams": true,
                                    "isIsSave": false,
                                    "isMobileInlineBtn": true,
                                    "isKeepSelected": false,
                                    "parameterFormatType": "add",
                                    "isSetValueToSourcePage": false,
                                    "url": getRootPath() + "/sampleDetail/outInventory"
                                },
                                "btn": {
                                    "text": "保存",
                                    "isReturn": true
                                }
                            }],
                            "gid": "85276463-9c47-2898-a19e-63aa8079c4be",
                            "objectState": 2
                        }
                    ],
                    "draftBox": {
                        "isUse": false,
                        "isUseSave": true,
                        "closeOrClear": true
                    },
                    // "pageParam": {}
                }
                // NETSTAR添加url参数即pageParam
                var pageConfig = {config:outorinbillMobile};
                outorinbillMobile = NetstarProject.init(outorinbillMobile);
                NetstarTemplate.init(outorinbillMobile);
                // 获取dom元素

                
            });
            $("#nstemplate-layout-nscloud-outorinbillmobile-blockList-1-addbtn-container").addClass("hide")
            $(".nspanel-container:nth-of-type(2)").removeClass("hide");
            var goodsScannerArr = [];
            var innerHTML = 
                `<header class="header">
                    <div class="btn-group">
                        <a href="##" class="btn btn-icon">
                            <i class="icon icon-arrow-left-o"></i>
                        </a>
                    </div>
                    <div class="title">样品出库</div>
                    <div class="btn-group">
                        <button class="btn btn-icon" onclick="openCamera()">
                            <i class="icon icon-qrcode" style="font-size:16px;"></i>
                        </button>
                    </div>
                </header>`; 
            
            $("container").prepend(innerHTML);
            if($("header").length != 0 && $(".mobile-input-search").length == 0){
                $("container").addClass("padding-top-header");
            }
            if($("header").length != 0 && $(".mobile-input-search").length != 0){
                $("container").addClass("padding-top-header-search");
            }
            // 扫码
            var cameraScan = {
                userCode:"",
                goodsCode:[],

                initCamera:function(QRSContents){
                    var goodsArr = [],userArr = [];
                    
                    for(var i = 0,len = QRSContents.length;i<len;i++){
                        if(QRSContents[i].indexOf("sample:") != -1){
                            goodsArr.push(QRSContents[i]);
                        }
                        if(QRSContents[i].indexOf("user:") != -1){
                            userArr.push(QRSContents[i]);
                        }
                    }
                    if(userArr.length != 0){
                        cameraScan.getUserCode(userArr);
                    }
                    if(goodsArr.length != 0){
                        cameraScan.getGoodsArr(goodsArr);
                    }
                    
                },

                getUserCode:function(QRSContents){
                    var userArr = []
                    for(var i = 0,len = QRSContents.length; i < len; i++){
                        if(QRSContents[i].indexOf("user:") != -1){
                            userArr.push(QRSContents[i]);
                        }
                    }
                    var userId = userArr[userArr.length-1]
                    cameraScan.userCode = userId.slice(5);
                    nsComponent.setValue('operatorId', "nstemplate-layout-nscloud-outorinbillmobile-vo-0", cameraScan.userCode);
                    nsComponent.setValue('deptName', "nstemplate-layout-nscloud-outorinbillmobile-vo-0", cameraScan.userCode);

                    // cb(cameraScan.userCode);
                },

                getGoodsArr:function(QRSContents,cb){
                    for(var i = 0,len = QRSContents.length; i < len; i++){
                        if(QRSContents[i].indexOf("sample:") != -1){
                            var goodsId = QRSContents[i].slice(7);
                            cameraScan.getScannerData(goodsId,function(res){
                                cameraScan.goodsCode.push(res.rows[0]);
                                NetstarBlockListM.refreshDataById("nstemplate-layout-nscloud-outorinbillmobile-blockList-1",cameraScan.goodsCode)

                            })
                        }
                    }
                    // cb(cameraScan.goodsCode)
                },
                initHoneywellScan:function(){
                    cameraScan.honeywellScan(function(){

                    })
                },

                honeywellScan:function(cb){
                    NetStarCordova.honeywellScan.get(function(obj){
                        if(obj.status){
                            if(obj.result.indexOf("user:")!=-1){
                                var userId = obj.result.slice(5);
                                cameraScan.userCode = userId;
                                nsComponent.setValue('operatorId', "nstemplate-layout-nscloud-outorinbillmobile-vo-0", cameraScan.userCode)
                                nsComponent.setValue('deptName', "nstemplate-layout-nscloud-outorinbillmobile-vo-0", cameraScan.userCode);
                            }else if(obj.result.indexOf("sample:")!=-1){
                                var goodsId = obj.result.slice(7);
                                // console.log(goodsId);  
                                cameraScan.getScannerData(goodsId,function(res){
                                    // console.log(res);
                                    // 调用数据刷新
                                    cameraScan.goodsCode.push(res.rows[0]);
                                    console.log(cameraScan.goodsCode)
                                    NetstarBlockListM.refreshDataById("nstemplate-layout-nscloud-outorinbillmobile-blockList-1",cameraScan.goodsCode)

                                })
                            }
                            cb()
                        }else{
                            nsAlert("扫码失败")
                        }   
                    })
                },

                getScannerData:function(goodsId,cb){
                    $.ajax({
                        url:getRootPath()+"/outOrIn/v2/getOutOrInDetailByScan",
                        type:"POST",
                        data:JSON.stringify({str1:goodsId}),
                        headers:{
                            "content-type":"application/json",
                            authorization:JSON.parse(localStorage.getItem("Authorization")).code
                        },
                        success:function(res){
                            cb(res)
                        }
                    })
                }
            }
            
            cameraScan.initHoneywellScan();
            function openCamera(){
                NetstarQRScanner.init({
                    type : "multi",
                    callBackFunc : function(QRSContents, ajaxRes, config){
                        console.log(QRSContents);
                        cameraScan.initCamera(QRSContents)
                        
                    },
                });
            };
        </script>
    </container>
</body>

</html>