<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
    <meta name="description" content="扫码详情表" />
    <meta name="author" content="netstar" />
    <!--# include file="/sites/include/static_mobile.html" -->
    <title>样品确认</title>
</head>

<body class="weixin-type">
    <container>
        <script type="text/javascript">
            $(function () {
                
                var sampleCustomList2 = {
                    "package": "nscloud.samplecustomlist2",
                    "template": "listMobile",
                    "readonly": false,
                    "isShowTitle": true,
                    "isFormHidden": false,
                    "versionNumber": "1",
                    "getValueAjax": {
                        "src": getRootPath() + "/sample/accept/samples/getToDoList",
                        "dataSrc": "rows",
                        "type": "POST",
                        "dataFormat": "object",
                        "contentType": "application/json",
                        "data": {}
                    },
                    "components": [{
                        "type": "blockList",
                        defaultShow: {
                            isAjax: false, //是否打开时显示列表 默认true
                            placeholder: "请使用扫码功能或者点击搜索", //默认为空 ''
                        },
                        "field": [{
                            "englishName": "sampleCode",
                            "chineseName": "样品编号",
                            "variableType": "string",
                            "field": "sampleCode",
                            "title": "样品编号",
                            "mindjetType": "text",
                            "isSet": "是",
                            "displayType": "all",
                            "gid": "6117f220-c87b-e0bd-2962-2600c4a5feac",
                            "voName": "sampleSampleVO",
                            "editConfig": {
                                "id": "sampleCode",
                                "englishName": "sampleCode",
                                "chineseName": "样品编号",
                                "variableType": "string",
                                "mindjetType": "text",
                                "isSet": "是",
                                "displayType": "all",
                                "gid": "6117f220-c87b-e0bd-2962-2600c4a5feac",
                                "voName": "sampleSampleVO",
                                "className": "java.lang.String",
                                "type": "text",
                                "label": "样品编号",
                                "disabled": false,
                                "hidden": false,
                                "isDistinct": false
                            },
                            "editable": false,
                            "hidden": false,
                            "orderable": true,
                            "searchable": true,
                            "tooltip": false,
                            "isDefaultSubdataText": true,
                            "width": 130,
                            "formatHandler": {
                                "type": "href",
                                "data": {
                                    "url": getRootPath() + "/templateMindPages/pageConfig/1316994910712234994?editModel=2&saveParams=1",
                                    "title": "合同明细",
                                    "field": "sampleCode",
                                    "readonly": false,
                                    "templateName": "limsReg"
                                }
                            },
                            "columnType": "href",
                            "mindjetIndexState": 0
                        },
                            {
                                "englishName": "sampleName",
                                "chineseName": "样品名称",
                                "variableType": "string",
                                "field": "sampleName",
                                "title": "样品名称",
                                "mindjetType": "text",
                                "isSet": "是",
                                "displayType": "all",
                                "gid": "8bdb710e-42ab-5b04-c756-4ce6ab3fa5ee",
                                "voName": "sampleSampleVO",
                                "editConfig": {
                                    "id": "sampleName",
                                    "englishName": "sampleName",
                                    "chineseName": "样品名称",
                                    "variableType": "string",
                                    "mindjetType": "text",
                                    "isSet": "是",
                                    "displayType": "all",
                                    "gid": "8bdb710e-42ab-5b04-c756-4ce6ab3fa5ee",
                                    "voName": "sampleSampleVO",
                                    "className": "java.lang.String",
                                    "type": "text",
                                    "label": "样品名称",
                                    "disabled": false,
                                    "hidden": false,
                                    "isDistinct": false
                                },
                                "editable": false,
                                "hidden": false,
                                "orderable": true,
                                "searchable": true,
                                "tooltip": false,
                                "isDefaultSubdataText": true,
                                "width": 106,
                                "mindjetIndexState": 1
                            },
                            {
                                "englishName": "entrustName",
                                "chineseName": "委托方名称",
                                "variableType": "string",
                                "field": "entrustName",
                                "title": "委托方",
                                "mindjetType": "text",
                                "isSet": "是",
                                "displayType": "all",
                                "gid": "322366b5-fa80-3b41-52c5-bec171fa5a70",
                                "voName": "sampleSampleVO",
                                "editConfig": {
                                    "id": "entrustName",
                                    "englishName": "entrustName",
                                    "chineseName": "委托方名称",
                                    "variableType": "string",
                                    "mindjetType": "text",
                                    "isSet": "是",
                                    "displayType": "all",
                                    "gid": "322366b5-fa80-3b41-52c5-bec171fa5a70",
                                    "voName": "sampleSampleVO",
                                    "className": "java.lang.String",
                                    "type": "text",
                                    "label": "委托方",
                                    "disabled": false,
                                    "hidden": false,
                                    "isDistinct": false
                                },
                                "editable": false,
                                "hidden": false,
                                "orderable": true,
                                "searchable": true,
                                "tooltip": false,
                                "isDefaultSubdataText": true,
                                "mindjetIndexState": 2,
                                "width": 200
                            },
                            {
                                "englishName": "sampleQuantity",
                                "chineseName": "样品数量",
                                "variableType": "string",
                                "field": "sampleQuantity",
                                "title": "样品数量",
                                "mindjetType": "text",
                                "isSet": "是",
                                "displayType": "all",
                                "gid": "2053ced7-1bbc-c32f-bed1-c9e30068f124",
                                "voName": "sampleSampleVO",
                                "editConfig": {
                                    "id": "sampleQuantity",
                                    "englishName": "sampleQuantity",
                                    "chineseName": "样品数量",
                                    "variableType": "string",
                                    "mindjetType": "text",
                                    "isSet": "是",
                                    "displayType": "all",
                                    "gid": "2053ced7-1bbc-c32f-bed1-c9e30068f124",
                                    "voName": "sampleSampleVO",
                                    "className": "java.lang.String",
                                    "type": "text",
                                    "label": "样品数量",
                                    "disabled": false,
                                    "hidden": false,
                                    "isDistinct": false
                                },
                                "editable": false,
                                "hidden": false,
                                "orderable": true,
                                "searchable": false,
                                "tooltip": false,
                                "isDefaultSubdataText": true,
                                "width": 70,
                                "mindjetIndexState": 3
                            },
                            {
                                "englishName": "handleWay",
                                "chineseName": "处理状态",
                                "variableType": "string",
                                "field": "handleWay",
                                "title": "处理状态",
                                "mindjetType": "select",
                                "isSet": "是",
                                "displayType": "all",
                                "gid": "05205a54-987a-5452-dd30-3e428407b2a1",
                                "voName": "sampleSampleVO",
                                "editConfig": {
                                    "id": "handleWay",
                                    "englishName": "handleWay",
                                    "chineseName": "处理状态",
                                    "variableType": "string",
                                    "mindjetType": "select",
                                    "isSet": "是",
                                    "displayType": "all",
                                    "gid": "05205a54-987a-5452-dd30-3e428407b2a1",
                                    "voName": "sampleSampleVO",
                                    "className": "java.lang.Long",
                                    "type": "select",
                                    "label": "处理状态",
                                    "subdata": [{
                                        "isDisabled": false,
                                        "selected": false,
                                        "value": "直接入库",
                                        "id": "0"
                                    },
                                    {
                                        "isDisabled": false,
                                        "selected": false,
                                        "value": "样品加工",
                                        "id": "1"
                                    },
                                    {
                                        "isDisabled": false,
                                        "selected": false,
                                        "value": "问题样品",
                                        "id": "2"
                                    }
                                    ],
                                    "textField": "value",
                                    "valueField": "id",
                                    "disabled": false,
                                    "hidden": false,
                                    "isDistinct": false
                                },
                                "editable": false,
                                "hidden": false,
                                "orderable": true,
                                "searchable": false,
                                "tooltip": false,
                                "isDefaultSubdataText": true,
                                "mindjetIndexState": 4,
                                "width": 200
                            }
                            ],
                            "ajax": {
                                "src": getRootPath() + "/sample/accept/samples/getToDoList",
                                "dataSrc": "rows",
                                "type": "POST",
                                "dataFormat": "object",
                                "contentType": "application/json",
                                "data": {}
                            },
                            "voId": "1309183777171316713",
                            "idField": "id",
                            "listExpression": "<div class=\"block-list-item\"><div class=\"block-list-item-text text-left\"><span><p class='fontWeight'>{{sampleName}}</p></span></div>\n<div class=\"block-list-item-text text-left\"><span><p style=\"color:#CCCCCC;\">{{sampleCode}}</p></span><span><p style=\"color:#CCCCCC;\">{{handleWay}}</p></span><span><p >{{sampleQuantity}}</p></span></div>\n<div class=\"block-list-item-text text-left\"><span class='info'><p style=\"color:#6C6C6C;\"    class=\"block-list-item-text-content\">{{entrustName}}</p></span></div>\n</div>",
                            "isUseSearchInput": true,
                            "searchInputPlaceholder": "扫码查询",
                            "isUseQRInput": true,
                            "gid": "b14d15b8-295e-6fce-378a-88ddb2b3dc56",
                            "objectState": 2,
                            "scandSource": "getToDoList"
                        },
                        {
                            "type": "btns",
                            "field": [{
                                "functionConfig": {
                                    "ajaxData": {},
                                    "data": {},
                                    "ajaxDataVaildConfig": "{}",
                                    "contentType": "application/x-www-form-urlencoded",
                                    "dataFormat": "object",
                                    "dataSrc": "data",
                                    "defaultMode": "loadPage",
                                    "functionClass": "modal",
                                    "suffix": "/templateMindPages/pageConfig/1319020177844601842",
                                    "text": "样品入库",
                                    "type": "GET",
                                    "voName": "sampleSampleVO",
                                    "entityName": "_sample_accept_samples",
                                    "chineseName": "样品入库（手机）",
                                    "englishName": "samplein",
                                    "isCloseWindow": true,
                                    "requestSource": "selected",
                                    "isInlineBtn": false,
                                    "parameterFormat": "{\"workItemIds\":\"{workItemId}\"}",
                                    "isSendPageParams": true,
                                    "isMobileInlineBtn": true,
                                    "isKeepSelected": false,
                                    "parameterFormatType": "add",
                                    "isSetValueToSourcePage": false,
                                    // "url": "https://qaapi.wangxingcloud.com//templateMindPages/pageConfig/1319020177844601842"
                                    "url": NetstarHomePage.defaultServerUrl + '/sites/gjjs/sampleoutorproblem1.html'
                                },
                                "btn": {
                                    "text": "样品入库",
                                    "isReturn": true
                                }
                            },
                            {
                                "functionConfig": {
                                    "ajaxData": {},
                                    "data": {},
                                    "ajaxDataVaildConfig": "{}",
                                    "contentType": "application/x-www-form-urlencoded",
                                    "dataFormat": "object",
                                    "dataSrc": "data",
                                    "defaultMode": "loadPage",
                                    "functionClass": "modal",
                                    "suffix": "/templateMindPages/pageConfig/1319024406239904754",
                                    "text": "问题样品",
                                    "type": "GET",
                                    "voName": "sampleSampleVO",
                                    "entityName": "_sample_accept_samples",
                                    "chineseName": "问题样品（手机）页面",
                                    "englishName": "samplewrongpage",
                                    "isCloseWindow": true,
                                    "requestSource": "selected",
                                    "isInlineBtn": false,
                                    "parameterFormat": "{\"workItemIds\":\"{workItemId}\"}",
                                    "isSendPageParams": true,
                                    "isMobileInlineBtn": true,
                                    "isKeepSelected": false,
                                    "parameterFormatType": "add",
                                    "isSetValueToSourcePage": false,
                                    // "url": "https://qaapi.wangxingcloud.com//templateMindPages/pageConfig/1319024406239904754"
                                    "url": NetstarHomePage.defaultServerUrl + '/sites/gjjs/sampleoutorproblem3.html'
                                },
                                "btn": {
                                    "text": "问题样品",
                                    "isReturn": true
                                }
                            },
                            {
                                "functionConfig": {
                                    "ajaxData": {},
                                    "data": {},
                                    "ajaxDataVaildConfig": "{}",
                                    "contentType": "application/x-www-form-urlencoded",
                                    "dataFormat": "object",
                                    "dataSrc": "data",
                                    "defaultMode": "loadPage",
                                    "functionClass": "modal",
                                    "suffix": "/templateMindPages/pageConfig/1320630944125683698",
                                    "text": "样品加工",
                                    "type": "GET",
                                    "voName": "sampleSampleVO",
                                    "entityName": "_sample_accept_samples",
                                    "chineseName": "样品加工（手机）页面",
                                    "englishName": "sampledealwithdopage",
                                    "isCloseWindow": true,
                                    "requestSource": "selected",
                                    "isInlineBtn": false,
                                    "parameterFormat": "{\"workItemIds\":\"{workItemId}\"}",
                                    "isSendPageParams": true,
                                    "isMobileInlineBtn": true,
                                    "isKeepSelected": false,
                                    "parameterFormatType": "add",
                                    "isSetValueToSourcePage": false,
                                    // "url": "https://qaapi.wangxingcloud.com//templateMindPages/pageConfig/1320630944125683698"
                                    "url": NetstarHomePage.defaultServerUrl + '/sites/gjjs/sampledealwith2mobile.html'
                                },
                                "btn": {
                                    "text": "样品加工",
                                    "isReturn": true
                                }
                            },
                            {
                                "functionConfig": {
                                    "ajaxData": {},
                                    "data": {},
                                    "ajaxDataVaildConfig": "{}",
                                    "contentType": "application/x-www-form-urlencoded",
                                    "dataFormat": "object",
                                    "dataSrc": "data",
                                    "defaultMode": "loadPage",
                                    "functionClass": "modal",
                                    "suffix": "/templateMindPages/pageConfig/1317632590949123058",
                                    "text": "样品详情",
                                    "title": "/templateMindPages/pageConfig/1317632590949123058",
                                    "type": "GET",
                                    "voName": "sampleSampleVO",
                                    "entityName": "_sample_accept_samples",
                                    "chineseName": "样品详情v4（手机版）",
                                    "englishName": "sampleDetail",
                                    "isCloseWindow": true,
                                    "requestSource": "selected",
                                    "isInlineBtn": false,
                                    "parameterFormat": "{\"id\":\"{id}\"}",
                                    "isSendPageParams": true,
                                    "isMobileInlineBtn": true,
                                    "isKeepSelected": false,
                                    "parameterFormatType": "add",
                                    "isSetValueToSourcePage": false,
                                    // "url": "https://qaapi.wangxingcloud.com//templateMindPages/pageConfig/1317632590949123058"
                                    "url": NetstarHomePage.defaultServerUrl + '/sites/gjjs/samplewarehousingphone.html'
                                },
                                "btn": {
                                    "text": "样品详情",
                                    "isReturn": true
                                }
                            }
                            ],
                            "gid": "a203f535-30df-a351-c83b-0297175016c4",
                            "objectState": 2
                        },{
                            //文本搜索面板
                            type: 'inputSearchPanel',
                            keyField: 'input', //默认为input
                            field: [{
                                    type: 'text',
                                    name: 'text', //所有名字默认读取type，绝大多数情况下每一个类型只有显示，所以name默认等于type
                                    text: "搜索,取消", //拆分为两个按钮 默认为"搜索,取消"
                                    placeholder: '按照文本进行检索',
                                    successOperate: 'refresh',
                                    ajax: {
                                        /***搜索按钮 
                                         ***默认来自于getValueAjax  
                                        *      "src": getRootPath() + "/sample/accept/samples/getToDoList",
                                        *      "dataSrc": "rows",
                                        *      "type": "POST",
                                        *      "dataFormat": "object",
                                        *      "contentType": "application/json",
                                        *** 重点参数：
                                        *      data:object 必填
                                        *      formatter:function 选填 格式化返回结果返回成跟 getValueAjax 相同的结果，然后用于表达式格式化
                                        */
                                        data: '{"keyword":"{input.text}","type":2, "modCate":"{filter.cate}"}', //{filter.cate} filter是默认搜索过滤项的名字
                                        formatter: function (res) {
                                            return res;
                                        },
                                    }
                                },
                                {
                                    /** 扫码设备类型
                                     * qrCamera:        二维码摄像头
                                     * barcodeCamera:   条码摄像头
                                     * barcodeScan:     蓝牙扫码枪
                                     * honeywellScan:   霍尼韦尔扫码
                                     * codeScan:        扫码 所有可用类型的扫码都会触发此
                                     */
                                    type: 'honeywellScan',
                                    name: 'honeywellScan',
                                    text: '', //使用html为按钮渲染形式
                                    /** 扫码后执行的动作
                                     *      refresh     用返回值刷新数据 只显示返回数据
                                     *      add         添加到当前列表 不区分当前结果
                                     *      addOnlyScan 添加到当前列表 添加时候打上标识，只显示同一个扫码设备出现的
                                     */
                                    successOperate: 'refresh',
                                    ajax: {
                                        /***默认来自于getValueAjax 
                                         *  qr-camera
                                         */
                                        data: '{"ids":"{input.honeywellScan}","type":2}',
                                        formatter: function (res) {
                                            return res;
                                        },
                                    }
                                },
                                {
                                    /** 扫码设备类型
                                     * qrCamera:        二维码摄像头
                                     * barcodeCamera:   条码摄像头
                                     * barcodeScan:     蓝牙扫码枪
                                     * honeywellScan:   霍尼韦尔扫码
                                     * codeScan:        扫码 所有可用类型的扫码都会触发此
                                     */
                                    type: 'qrCamera',
                                    name: 'qrCamera',
                                    text: '<i class="icon-qrcode"></i>', //使用html为按钮渲染形式
                                    /** 扫码后执行的动作
                                     *      refresh     用返回值刷新数据 只显示返回数据
                                     *      add         添加到当前列表 不区分当前结果
                                     *      addOnlyScan 添加到当前列表 添加时候打上标识，只显示同一个扫码设备出现的
                                     */
                                    successOperate: 'refresh',
                                    ajax: {
                                        /***默认来自于getValueAjax 
                                         *  qr-camera
                                         */
                                        data: '{"ids":"{input.qrCamera}","type":2}',
                                        formatter: function (res) {
                                            return res;
                                        },
                                    }
                                },
                                {
                                    /** 普通按钮
                                     *  
                                     */
                                    type: 'btn',
                                    name: 'getList',
                                    text: '<i class="icon-all"></i>', //使用html为按钮渲染形式
                                    /** 扫码后执行的动作
                                     *      refresh     用返回值刷新数据 只显示返回数据
                                     *      add         添加到当前列表 不区分当前结果
                                     */
                                    successOperate: 'refresh',
                                    ajax: {
                                        /***默认来自于getValueAjax 
                                         *  qr-camera
                                         */
                                        data: '{"ids":"{input.qrCamera}","type":2, "modCate":"{filter.cate}"}',
                                        formatter: function (res) {
                                            return res;
                                        },
                                    }
                                }
                            ],
                            searchAjax: {
                                /***搜索按钮 
                                 ***默认来自于getValueAjax  
                                *      "src": getRootPath() + "/sample/accept/samples/getToDoList",
                                *      "dataSrc": "rows",
                                *      "type": "POST",
                                *      "dataFormat": "object",
                                *      "contentType": "application/json",
                                *** 重点参数：
                                *      data:object 必填
                                *      formatter:function 选填 格式化返回结果返回成跟 getValueAjax 相同的结果，然后用于表达式格式化
                                */
                                data: '{"keyword":"{input.keyword}","type":2, "mobCate":"{filter.classCate}"}',
                                formatter: function (res) {
                                    return res;
                                },
                            }
                        }
                    ],
                    "draftBox": {
                        "isUse": false,
                        "isUseSave": true,
                        "closeOrClear": true
                    },
                    "title": "样品确认2.0待办列表",
                    // "pageParam": {
                    //     "processId": "1316834328327488498",
                    //     "activityId": "1316911228643183602",
                    //     "workflowType": "0",
                    //     "activityName": "样品确认",
                    //     "packageSuffix": "-0-1316911228643183602"
                    // }
                }
                // NETSTAR添加url参数即pageParam
                var pageConfig = { config: sampleCustomList2 };s
                /*var componentsArr = pageConfig.config.components;
                for (var componentI = 0; componentI < componentsArr.length; componentI++) {
                    var componentData = componentsArr[componentI];
                    switch (componentData.type) {
                        case 'blockList':
                            componentData.scandSource = 'getToDoList';
                            break;
                    }
                }*/
                sampleCustomList2 = NetstarProject.init(sampleCustomList2);
                NetstarTemplate.init(sampleCustomList2);
            })
        </script>
    </container>
</body>

</html>